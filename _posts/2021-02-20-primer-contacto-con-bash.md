---
title: "Primer contacto con Bash"

# multilingual page pair id, this must pair with translations of this page. (This name must be unique)
lng_pair: id_autogeneratedsamplecontent_7

# post specific
# if not specified, .name will be used from _data/owner/[language].yml
author: Maria Soria
# multiple category is not supported
category: auto generated
# multiple tag entries are possible
tags: [bash, binding, script]
# thumbnail image for post
img: ":matrix.png"
# disable comments on this page
comments_disable: true

# publish date
date: 2021-02-20 13:58:34 +06:00

# seo
# if not specified, date will be used.
#meta_modify_date: 2021-08-10 11:32:53 +0900
# check the meta_common_description in _data/owner/[language].yml
#meta_description: ""

# optional
# if you enabled image_viewer_posts you don't need to enable this. This is only if image_viewer_posts = false
#image_viewer_on: true
# if you enabled image_lazy_loader_posts you don't need to enable this. This is only if image_lazy_loader_posts = false
#image_lazy_loader_on: true
# exclude from on site search
#on_site_search_exclude: true
# exclude from search engines
#search_engine_exclude: true
# to disable this page, simply set published: false or delete this file

---


Hace tiempo que ten√≠a pendiente mejorar mis skills con la shell, pero siempre encontraba otra cosa "m√°s importante/interesante"
para aprender en ese momento.

Hace unas semanas me di cuenta de que era algo que ya no deb√≠a seguir posponiendo, as√≠ que empec√© un
[curso de bash](https://pro.codely.tv/library/curso-bash/about/) con codely.tv. Me gust√≥ mucho, lo termin√© en un
pis-pas e hice [otro](https://pro.codely.tv/library/terminal-zsh/about/) que ya era menos b√°sico.

He de decir que ya sab√≠a que era algo que iba a mejorar mi productividad con creces, pero a√∫n as√≠ me sorprendi√≥.

Los comandos y consejos que dan en el curso me parecen muy √∫tiles porque sirven para el d√≠a a d√≠a y facilitan
mucho la vida. Ya estaba familiarizada con algunos de ellos y me gustaban, pero otros me parecieron simplemente maravillosos.

Me qued√© fascinada con [fzf](https://github.com/junegunn/fzf). Este comando te permite usar la shell de forma
interactiva y si encima lo combinas con otros comandos...MAGIC!

Tambi√©n descubr√≠ [explainshell](https://explainshell.com/). Es una herramienta que da una descripci√≥n/explicaci√≥n
de los comandos que le has introducido. Me parece muy √∫til cuando te pasan alg√∫n comando y no sabes muy bien qu√© hace,
siempre lo puedes consultar aqu√≠. Ej. comando: ls -la (ejemplo muy f√°cil, lo s√© üòä)

![Explain shell](:/bash/explainshell.png)

Aparte del uso de los comandos, he aprendido c√≥mo funciona la shell "por dentro". Los ficheros de configuraci√≥n, scripts
y "d√≥nde hay que tocar" para obtener cierto resultado (aunque a√∫n me queda mucho por aprender).

Durante el segundo curso, que era sobre zsh, tambi√©n descubr√≠ lo que son las bindkeys. B√°sicamente, son un atajo de
teclado que te permite realizar una acci√≥n en la shell. Se pueden enlazar con funciones, y ah√≠ es donde yo le vi el encanto.

Un compa√±ero de trabajo me hab√≠a pasado unos d√≠as antes un fichero con la configuraci√≥n de los hosts a los que nos solemos conectar
trabajando en el d√≠a a d√≠a. La verdad es que, aunque s√∫per √∫til, yo tend√≠a a olvidar los nombres asignados a cada host y al final
siempre ten√≠a que hacer un cat para ver lo que hab√≠a dentro del fichero de configs. As√≠ que pens√© que ser√≠a muy √∫til tener alguna
forma de mostrar estos hosts y poderlos seleccionar directamente. Alguien me ley√≥ la mente, porque me lo encontr√© hecho.

A continuaci√≥n os muestro un peque√±o script que copiaremos dentro del fichero de configuraci√≥n de zsh *.zshrc*.

La primera parte es la funci√≥n que recoge los hosts que hay dentro del fichero de configuraci√≥n y muestra todos los
nombres de forma interactiva. De forma que cuando se selecciona uno, se queda guardado en la variable "selected_host".

La segunda parte es el binding. En este caso, esta funci√≥n est√° enlazada con el atajo de teclado ctrl+h.

```bash
# Funci√≥n que muestra los hosts de forma interactiva
_connect_ssh() {
	local selected_host=$(cat ~/.ssh/config | grep "Host " | grep -v "*" | awk '{print $2}' | fzf)
	LBUFFER="ssh $selected_host"
}

# Binding de las funci√≥n previa
zle -N _connect_ssh
bindkey '^h' _connect_ssh
```

Una vez a√±adido al fichero *.zshrc*, iniciaremos una nueva sesi√≥n de la shell, y al teclear ctrl+h veremos lo siguiente:

![Connect ssh script](:/bash/gitscriptconnectssh.gif)

La verdad es que este simple script me ha venido estupendamente. Lo uso en el d√≠a a d√≠a, adem√°s de otros.

Simplemente **MARAVILLOSO** üôÇ
